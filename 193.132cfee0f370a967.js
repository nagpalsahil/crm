"use strict";(self.webpackChunkcrm=self.webpackChunkcrm||[]).push([[193],{6193:(N,s,a)=>{a.r(s),a.d(s,{DashboardModule:()=>I});var c=a(9808),f=a(3047),p=a(3600),e=a(5e3),m=a(7234),h=a(3787),r=a(3075),u=a(1424),g=a(845);function _(o,n){1&o&&(e.TgZ(0,"small",7),e._uU(1,"Enter valid Application Number or Owner client Id."),e.qZA())}function D(o,n){if(1&o&&(e.TgZ(0,"h5",15),e._uU(1),e.qZA()),2&o){const i=e.oxw().$implicit,t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.field]," ")}}function x(o,n){if(1&o&&(e.TgZ(0,"h5",15),e._uU(1),e.qZA()),2&o){const i=e.oxw().$implicit,t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t[i.field]," ")}}function T(o,n){if(1&o&&(e.TgZ(0,"h5"),e.TgZ(1,"span"),e._uU(2),e.qZA(),e.qZA()),2&o){const i=e.oxw().$implicit,t=e.oxw().$implicit;e.xp6(1),e.Gre("p-text-color-",t[i.field]," text-bold"),e.xp6(1),e.hij(" P",t[i.field]," ")}}function v(o,n){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.ALo(4,"date"),e.qZA()),2&o){const i=e.oxw().$implicit,t=e.oxw().$implicit;e.xp6(1),e.lnq(" ",e.xi3(2,3,t[i.field],"YY")-70," Years, ",e.xi3(3,6,t[i.field],"MM")," Months, ",e.xi3(4,9,t[i.field],"dd")," Days")}}function b(o,n){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const i=e.oxw().$implicit,t=e.oxw().$implicit;e.xp6(1),e.Oqu(t[i.field])}}function y(o,n){if(1&o&&(e.TgZ(0,"div",12),e.TgZ(1,"label",13),e._uU(2),e.qZA(),e.YNc(3,D,2,1,"h5",14),e.YNc(4,x,2,1,"h5",14),e.YNc(5,T,3,4,"h5",6),e.YNc(6,v,5,12,"div",6),e.YNc(7,b,2,1,"div",6),e.qZA()),2&o){const i=n.$implicit;e.xp6(2),e.Oqu(i.header),e.xp6(1),e.Q6J("ngIf","customerSegment"==i.field),e.xp6(1),e.Q6J("ngIf","hni"==i.field),e.xp6(1),e.Q6J("ngIf","priority"==i.field),e.xp6(1),e.Q6J("ngIf","policyAging"==i.field),e.xp6(1),e.Q6J("ngIf","customerSegment"!=i.field&&"hni"!=i.field&&"policyAging"!=i.field&&"priority"!=i.field)}}function A(o,n){if(1&o&&(e.TgZ(0,"p-accordionTab",9),e.TgZ(1,"div",10),e.YNc(2,y,8,6,"div",11),e.qZA(),e.qZA()),2&o){const i=n.$implicit,t=e.oxw(2);e.MGl("header","Policy with Application Number: ",i.applicationName,""),e.Q6J("selected",t.hasData),e.xp6(2),e.Q6J("ngForOf",t.fieldsArr)}}function Z(o,n){if(1&o&&(e.TgZ(0,"div"),e.YNc(1,A,3,3,"p-accordionTab",8),e.qZA()),2&o){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.filteredPolicies)}}const C=[{path:"",component:(()=>{class o{constructor(i){this.policyService=i,this.loading=!0,this.hasData=!1,this.showError=!1}ngOnInit(){this.policyService.getPolicies().then(i=>{this.policies=i}),this.fieldsArr=[{field:"ownerClientId",header:"Owner client ID"},{field:"applicationName",header:"Application Number"},{field:"channel",header:"Channel"},{field:"customerSegment",header:"Customer segment"},{field:"priority",header:"Priority"},{field:"hni",header:"HNI"},{field:"ownerExactOccupation",header:"Owner exact occupation"},{field:"annualizedTargetPermium",header:"Annualized Target Premium"},{field:"countOfPolicies",header:"Count of policies"},{field:"policyStatusAsOnMonthend",header:"Policy status as on Monthend"},{field:"planName",header:"Plan name"},{field:"education",header:"Education"},{field:"ownerName",header:"Owner Name"},{field:"ownerGender",header:"Owner Gender"},{field:"policyInforcementDate",header:"Policy Inforcement date"},{field:"policyAging",header:"Policy aging (in month and days)"}]}searchData(){if(this.searchValue){const i=[];for(let t=0;t<this.policies.length;t++){const l=this.policies[t];(l.applicationName==this.searchValue||l.ownerClientId==this.searchValue)&&i.push(this.calculateData(l))}this.filteredPolicies=i,this.hasData=this.filteredPolicies.length>0,console.log(this.filteredPolicies),this.showError=!this.hasData}}calculateData(i){let t=new Date(i.policyInforcementDate),d=(new Date).getTime()-t.getTime();return i.policyAging=d,i.priority=Math.floor(3*Math.random())+1,i}}return o.\u0275fac=function(i){return new(i||o)(e.Y36(m.d))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],decls:7,vars:4,consts:[[1,"mt-3"],["header","Application ID/ Owner client ID",3,"selected"],["type","text","placeholder","Application ID/ Owner client ID","pInputText","",1,"w-100",3,"ngModel","ngModelChange"],["id","searchValue-help","class","p-error",4,"ngIf"],["pButton","","type","button","label","Search",1,"float-right","mt-3",3,"click"],[2,"clear","both"],[4,"ngIf"],["id","searchValue-help",1,"p-error"],[3,"header","selected",4,"ngFor","ngForOf"],[3,"header","selected"],[1,"grid"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],[1,"text-bold"],["class","text-bold p-text-info",4,"ngIf"],[1,"text-bold","p-text-info"]],template:function(i,t){1&i&&(e.TgZ(0,"p-accordion",0),e.TgZ(1,"p-accordionTab",1),e.TgZ(2,"input",2),e.NdJ("ngModelChange",function(d){return t.searchValue=d}),e.qZA(),e.YNc(3,_,2,0,"small",3),e.TgZ(4,"button",4),e.NdJ("click",function(){return t.searchData()}),e.qZA(),e._UZ(5,"div",5),e.qZA(),e.YNc(6,Z,2,1,"div",6),e.qZA()),2&i&&(e.xp6(1),e.Q6J("selected",!t.hasData),e.xp6(1),e.Q6J("ngModel",t.searchValue),e.xp6(1),e.Q6J("ngIf",t.showError),e.xp6(3),e.Q6J("ngIf",t.hasData))},directives:[h.UQ,h.US,r.Fj,u.o,r.JJ,r.On,c.O5,g.Hq,c.sg],pipes:[c.uU],encapsulation:2}),o})()}];let w=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[p.Bz.forChild(C)],p.Bz]}),o})(),I=(()=>{class o{}return o.\u0275fac=function(i){return new(i||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[c.ez,f.n,w]]}),o})()}}]);